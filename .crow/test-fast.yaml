# yaml-language-server: $schema=https://raw.githubusercontent.com/woodpecker-ci/woodpecker/main/pipeline/frontend/yaml/linter/schema/schema.json

when:
  - event: push
    branch:
      - feature/*

steps:
  test:
    image: ghcr.io/astral-sh/uv:debian@sha256:8fcd6737c1c4f9ef6d5e07ade194f807c4f0eb82e97992c2c8bf0888b61b64db
    directory: door_tracker
    commands:
      - uv sync --locked --no-progress
      - uv run manage.py test --noinput
